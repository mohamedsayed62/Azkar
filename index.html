<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أدعية عظيمة ليوم عرفة</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #28a745; /* أخضر غامق وزاهي */
            --secondary-color: #38b456; /* أخضر متوسط */
            --light-green: #e9f5ed; /* أخضر فاتح للخلفيات */
            --dark-text: #2c3e50; /* نص غامق */
            --light-text: #5f6c77; /* نص رمادي فاتح */
            --bg-color: #f8fcf9;
            --card-bg: #ffffff;
            --border-radius: 15px;
            --shadow-light: 0 4px 15px rgba(0, 0, 0, 0.08);
            --shadow-medium: 0 6px 20px rgba(0, 0, 0, 0.12);
            --transition-fast: all 0.2s ease-out;
            --transition-medium: all 0.3s ease-out;
        }

        body {
            font-family: 'Cairo', sans-serif;
            line-height: 1.7;
            color: var(--dark-text);
            background-color: var(--bg-color);
            margin: 0;
            padding: 30px;
            direction: rtl;
            text-align: right;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 960px;
            margin: 0 auto;
            padding: 30px;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-medium);
            position: relative;
            z-index: 1;
        }

        h1 {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 40px;
            font-family: 'Amiri', serif;
            font-size: 3.2em;
            position: relative;
            padding-bottom: 15px;
            animation: fadeInDown 1s ease-out;
        }

        h1::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 5px;
            background-color: var(--primary-color);
            border-radius: 3px;
        }

        .category-nav {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            margin-bottom: 40px;
            padding: 18px;
            background-color: var(--light-green);
            border-radius: var(--border-radius);
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.05);
            animation: fadeInUp 1s ease-out 0.2s backwards;
        }

        .category-nav button {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 30px; /* أقرب للشكل الدائري */
            cursor: pointer;
            font-size: 1.15em;
            font-family: 'Cairo', sans-serif;
            font-weight: 600;
            transition: var(--transition-medium);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
        }

        .category-nav button:hover {
            background-color: var(--primary-color);
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--shadow-medium);
        }

        .category-nav button.active {
            background-color: var(--primary-color);
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.25);
            transform: translateY(0);
        }

        .dua-section {
            margin-bottom: 50px;
            padding: 30px;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.7s ease-out, transform 0.7s ease-out;
            border-top: 5px solid var(--primary-color); /* شريط علوي مميز */
        }

        .dua-section.active {
            opacity: 1;
            transform: translateY(0);
        }

        .dua-section h2 {
            color: var(--primary-color);
            font-family: 'Amiri', serif;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-align: center;
            position: relative;
            padding-bottom: 10px;
            animation: fadeIn 1s ease-out;
        }
        .dua-section h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 70px;
            height: 4px;
            background-color: var(--secondary-color);
            border-radius: 2px;
        }

        .dua-item {
            background-color: var(--light-green);
            padding: 25px;
            margin-bottom: 25px;
            border-radius: var(--border-radius);
            border: 1px solid #d4ead8;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.06);
            transition: var(--transition-medium);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .dua-item:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-medium);
        }

        .dua-text {
            margin: 0;
            font-size: 1.4em;
            color: var(--dark-text);
            text-align: justify;
            font-family: 'Amiri', serif;
            flex-grow: 1;
        }

        .dua-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
            gap: 10px;
        }

        .copy-btn, .counter-btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-family: 'Cairo', sans-serif;
            font-weight: 600;
            transition: var(--transition-fast);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .copy-btn:hover, .counter-btn:hover {
            background-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .counter-btn {
            background-color: #1abc9c; /* لون مميز للعداد */
            min-width: 120px; /* لضمان عرض كافٍ للرقم */
        }
        .counter-btn:hover {
            background-color: #16a085;
        }

        .counter-display {
            background-color: #f0f0f0;
            color: var(--dark-text);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 1.2em;
            font-weight: bold;
            min-width: 60px;
            text-align: center;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
            margin-left: 10px; /* Space between counter and button */
        }

        .reset-counter-btn {
            background-color: #e74c3c; /* لون أحمر لإعادة الضبط */
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            margin-right: 10px; /* Space between reset and counter display */
            transition: var(--transition-fast);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .reset-counter-btn:hover {
            background-color: #c0392b;
            transform: translateY(-2px);
        }

        .copied-msg {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background-color: #333;
            color: white;
            padding: 12px 25px;
            border-radius: 10px;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s ease, transform 0.3s ease;
            z-index: 1000;
            font-family: 'Cairo', sans-serif;
            font-size: 1.1em;
            box-shadow: var(--shadow-medium);
        }

        .copied-msg.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            .container {
                padding: 20px;
            }
            h1 {
                font-size: 2.5em;
            }
            .category-nav {
                gap: 8px;
                padding: 12px;
            }
            .category-nav button {
                padding: 10px 18px;
                font-size: 1em;
            }
            .dua-section h2 {
                font-size: 2em;
            }
            .dua-text {
                font-size: 1.2em;
            }
            .dua-controls {
                flex-direction: column;
                align-items: stretch;
            }
            .copy-btn, .counter-btn {
                width: 100%;
                margin-bottom: 10px;
            }
            .counter-display, .reset-counter-btn {
                width: 100%;
                text-align: center;
                margin: 5px 0;
            }
            .reset-counter-btn {
                margin-right: 0; /* Remove margin on small screens */
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 2em;
            }
            .category-nav button {
                width: 100%;
                padding: 12px;
            }
            .dua-section {
                padding: 15px;
            }
            .dua-text {
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1><span style="color: #f39c12;">✨</span> أدعية عظيمة ليوم عرفة <span style="color: #f39c12;">✨</span></h1>

        <div class="category-nav">
            <button class="active" data-category="all">كل الأدعية</button>
            <button data-category="التوحيد والخضوع">التوحيد والخضوع</button>
            <button data-category="التوبة والانكسار">التوبة والانكسار</button>
            <button data-category="الرجاء والإلحاح">الرجاء والإلحاح</button>
            <button data-category="الرضا والسعادة">الرضا والسعادة</button>
            <button data-category="الفتح والفرج">الفتح والفرج</button>
            <button data-category="العلم والفهم">العلم والفهم</button>
            <button data-category="القلب">أدعية القلب</button>
            <button data-category="الحياة والأحلام">الحياة والأحلام</button>
            <button data-category="صلاح النفس والدين">صلاح النفس والدين</button>
            <button data-category="الختام">أدعية الختام</button>
        </div>

        <div id="dua-list">
            </div>
    </div>

    <div class="copied-msg" id="copied-msg">تم نسخ الدعاء بنجاح!</div>

    <script>
        const duas = {
            "التوحيد والخضوع": [
                "لا إله إلا الله وحده لا شريك له، له الملك وله الحمد، وهو على كل شيء قدير",
                "اللهم لك الحمد عدد خلقك، ورضا نفسك، وزنة عرشك، ومداد كلماتك",
                "اللهم إني عبدك، ابن عبدك، ابن أمتك، ناصيتي بيدك، ماضٍ فيَّ حكمك، عدلٌ فيَّ قضاؤك"
            ],
            "التوبة والانكسار": [
                "اللهم لا تخرجني من يوم عرفة إلا وقد غسلت قلبي من كل ذنب، ونقيت روحي من كل هم",
                "اللهم اجعلني ممن إذا ذكرك خشي، وإذا استغفرك غُفر له، وإذا دعاك أجبت",
                "يا من وسعت رحمته كل شيء، ارحم عبدًا أذنب كثيرًا، واستحيا أن يرفع وجهه إليك"
            ],
            "الرجاء والإلحاح": [
                "اللهم لا تردني خائبًا، ولا تجعل في قلبي حزنًا، ولا في صدري ضيقًا، ولا في رزقي عسرًا",
                "اللهم يا جابر الكسير، اجبر كسري، واملأ قلبي رضا ويقينًا",
                "يا الله، اجعلني ممن تنظر إليهم في يوم عرفة نظرة لا شقاء بعدها أبدًا"
            ],
            "الرضا والسعادة": [
                "اللهم ارزقني سعادة لا تنطفئ، ونورًا لا يخبو، وفرحًا يملأ قلبي طول العمر",
                "الل اللهم اجعل رضاك أكبر أمانيّ، وسامحني إذا زلّت قدمي وضعُف إيماني",
                "اللهم إن كان رزقي في السماء فأنزله، وإن كان بعيدًا فقربه، وإن كان عسيرًا فيسره"
            ],
            "الفتح والفرج": [
                "اللهم افتح لي أبواب الخير من حيث لا أحتسب، ويسّر لي أمري كله",
                "اللهم فرّج همي، واكشف غمي، وبدّل حزني فرحًا، وهمي راحة، وخوفي أمانًا",
                "اللهم افتح لي فتحًا مبينًا، واجعل لي من لدنك سلطانًا نصيرًا"
            ],
            "العلم والفهم": [
                "اللهم علّمني ما ينفعني، وانفعني بما علّمتني، وزدني علمًا",
                "اللهم اجعلني من أهل الفهم والعقل، ومن الذين يستمعون القول فيتبعون أحسنه",
                "اللهم نوّر قلبي بنور العلم، ويسّر لي دربي فيه"
            ],
            "القلب": [
                "اللهم طهر قلبي من النفاق، وعيني من الخيانة، ولساني من الكذب، وعملي من الرياء",
                "اللهم اجعل قلبي لينًا، خاشعًا، راضيًا، صابرًا، مطمئنًا",
                "يا حي يا قيوم، أصلح لي شأني كله، ولا تكلني إلى نفسي طرفة عين"
            ],
            "الحياة والأحلام": [
                "اللهم اجعل مستقبلي أجمل مما أتمنى، وارزقني فيه سعادة لا تنتهي",
                "اللهم قرّب لي كل خير، وأبعد عني كل شر، وحقق لي أمنياتي وأحلامي ما دامت خيرًا لي",
                "اللهم إن لي دعوات لا يعلمها غيرك، فحققها لي يا كريم"
            ],
            "صلاح النفس والدين": [
                "اللهم اجعلني لك كما تحب، وارزقني حسن الخلق، ودوام الذكر، وصفاء القلب",
                "اللهم اجعلني من عبادك المتقين، الذين لا خوف عليهم ولا هم يحزنون",
                "اللهم اجعلني سببًا في هداية غيري، واجعلني منارة نور في حياة من حولي"
            ],
            "الختام": [
                "اللهم لا تغرب شمس يوم عرفة إلا وقد غفرت ذنبي، ووسعت رزقي، وشرحت صدري، وكتبتني من أهل الجنة",
                "اللهم اكتب لي في هذا اليوم نصيبًا من كل خير تقسمه، ونورًا من كل هدى تنزله، وفرجًا من كل هم ترفعه",
                "اللهم اجعلني ممن ينظر إليك فتغفر له، وتسمع له، وتستجيب له، وتكرمه بكرمك، وتعفو عنه بفضلك"
            ]
        };

        const duaListDiv = document.getElementById('dua-list');
        const categoryButtons = document.querySelectorAll('.category-nav button');
        const copiedMsg = document.getElementById('copied-msg');

        // Object to store individual dua counters
        let duaCounters = {};

        function displayDuas(category = 'all') {
            duaListDiv.innerHTML = ''; // Clear current list

            let sectionsToShow = {};

            if (category === 'all') {
                sectionsToShow = duas;
            } else {
                if (duas[category]) {
                    sectionsToShow[category] = duas[category];
                }
            }

            for (const catName in sectionsToShow) {
                const sectionDiv = document.createElement('div');
                sectionDiv.classList.add('dua-section');
                sectionDiv.setAttribute('data-category', catName);

                const sectionTitle = document.createElement('h2');
                sectionTitle.textContent = `أدعية ${catName}`;
                sectionDiv.appendChild(sectionTitle);

                sectionsToShow[catName].forEach((duaText, index) => {
                    const duaItem = document.createElement('div');
                    duaItem.classList.add('dua-item');

                    const duaParagraph = document.createElement('p');
                    duaParagraph.classList.add('dua-text');
                    duaParagraph.textContent = duaText;
                    duaItem.appendChild(duaParagraph);

                    const duaControls = document.createElement('div');
                    duaControls.classList.add('dua-controls');

                    // Unique ID for each dua to store its counter
                    const duaId = `${catName}-${index}`;
                    if (!(duaId in duaCounters)) {
                        duaCounters[duaId] = 0; // Initialize counter if not exists
                    }

                    const counterDisplay = document.createElement('span');
                    counterDisplay.classList.add('counter-display');
                    counterDisplay.textContent = duaCounters[duaId];
                    duaControls.appendChild(counterDisplay);

                    const resetCounterBtn = document.createElement('button');
                    resetCounterBtn.classList.add('reset-counter-btn');
                    resetCounterBtn.textContent = 'إعادة ضبط';
                    resetCounterBtn.onclick = () => resetCounter(duaId, counterDisplay);
                    duaControls.appendChild(resetCounterBtn);

                    const counterButton = document.createElement('button');
                    counterButton.classList.add('counter-btn');
                    counterButton.textContent = 'سبّح';
                    counterButton.onclick = () => incrementCounter(duaId, counterDisplay);
                    duaControls.appendChild(counterButton);

                    const copyButton = document.createElement('button');
                    copyButton.classList.add('copy-btn');
                    copyButton.textContent = 'نسخ الدعاء';
                    copyButton.onclick = () => copyDua(duaText);
                    duaControls.appendChild(copyButton);

                    duaItem.appendChild(duaControls);
                    sectionDiv.appendChild(duaItem);
                });
                duaListDiv.appendChild(sectionDiv);
            }

            // Trigger animation
            setTimeout(() => {
                document.querySelectorAll('.dua-section').forEach(section => {
                    section.classList.add('active');
                });
            }, 50);
        }

        function incrementCounter(duaId, displayElement) {
            duaCounters[duaId]++;
            displayElement.textContent = duaCounters[duaId];
        }

        function resetCounter(duaId, displayElement) {
            duaCounters[duaId] = 0;
            displayElement.textContent = duaCounters[duaId];
        }

        function copyDua(text) {
            navigator.clipboard.writeText(text).then(() => {
                copiedMsg.classList.add('show');
                setTimeout(() => {
                    copiedMsg.classList.remove('show');
                }, 2000); // Hide message after 2 seconds
            }).catch(err => {
                console.error('Failed to copy text: ', err);
                alert('فشل نسخ الدعاء، يرجى المحاولة يدوياً.');
            });
        }

        // Event Listeners for category buttons
        categoryButtons.forEach(button => {
            button.addEventListener('click', (event) => {
                // Remove active class from all buttons
                categoryButtons.forEach(btn => btn.classList.remove('active'));
                // Add active class to the clicked button
                event.target.classList.add('active');
                displayDuas(event.target.dataset.category);
            });
        });

        // Initial display of all duas
        displayDuas();
    </script>
</body>
</html>